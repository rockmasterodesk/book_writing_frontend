(function(e){function t(t){for(var n,r,c=t[0],d=t[1],s=t[2],l=0,u=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(o.splice(t--,1),e=d(d.s=a[0]))}return e}var n={},r={app:0},i={app:0},o=[];function c(e){return d.p+"js/"+({BookBackCover:"BookBackCover",BookTitle:"BookTitle"}[e]||e)+"."+{BookBackCover:"0868abca",BookTitle:"5fb1374a"}[e]+".js"}function d(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,d),a.l=!0,a.exports}d.e=function(e){var t=[],a={BookBackCover:1,BookTitle:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({BookBackCover:"BookBackCover",BookTitle:"BookTitle"}[e]||e)+"."+{BookBackCover:"e2dced80",BookTitle:"52b6928b"}[e]+".css",i=d.p+n,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===n||l===i))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){s=u[c],l=s.getAttribute("data-href");if(l===n||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[e],p.parentNode.removeChild(p),a(o)},p.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,d.nc&&l.setAttribute("nonce",d.nc),l.src=c(e);var u=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(p);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",u.name="ChunkLoadError",u.type=n,u.request=r,a[1](u)}i[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},d.m=e,d.c=n,d.d=function(e,t,a){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(d.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)d.d(a,n,function(t){return e[t]}.bind(null,n));return a},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var p=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"189a":function(e,t,a){"use strict";a("5713")},"26ed":function(e,t,a){},3773:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=a("2877"),c={},d=Object(o["a"])(c,r,i,!1,null,null,null),s=d.exports,l=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-body"},[a("div",{staticClass:"home-heading"},[a("h3",[e._v("Write your Book")]),a("p",[e._v(e._s(e.$store.state.data.current_page))])]),a("div",{staticClass:"home"},[a("div",{staticClass:"sidebar"},[a("Sidebar",{on:{component_changed:e.forceRerender}})],1),a("div",{staticClass:"main-body"},["blank"===e.$store.state.data.current_page?a("div",{staticClass:"blank_container"},[a("Blank")],1):a("div",{staticClass:"h-100vh"},["book_title"===e.$store.state.data.current_page?a("div",{staticClass:"h-100-percent"},[a("BookTitle")],1):"book_back"===e.$store.state.data.current_page?a("div",{staticClass:"h-100-percent"},[a("BookBackCover")],1):"chapter"===e.$store.state.data.current_page?a("div",{staticClass:"h-100-percent"},[a("edit-chapter",{key:e.componentKey})],1):e._e()])])])])},p=[],h=(a("d3b7"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"menu"}),a("div",{staticClass:"chapters"},[a("Chapters",{on:{component_changed:function(t){return e.$emit("component_changed")}}})],1)])}),_=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"book-container"},[a("div",{staticClass:"main-menu-item editable",class:{editing:"book_title"===e.$store.state.data.current_page},on:{click:function(t){return e.setCurrentPage("book_title")}}},[a("i",{staticClass:"fas fa-edit"}),e._v(" Front Cover & Title ")]),a("div",{staticClass:"main-menu-item editable",class:{editing:"book_back"===e.$store.state.data.current_page},on:{click:function(t){return e.setCurrentPage("book_back")}}},[a("i",{staticClass:"fas fa-edit"}),e._v(" Back Cover ")]),a("div",{staticClass:"main-menu-item"},[e._v(" Chapters ")]),a("div",{staticClass:"chapters-container"},e._l(e.$store.state.data.available_chapters,(function(t){return a("div",{key:t.id,staticClass:"single-chapter d-flex align-items-center",class:{added:t.added},attrs:{title:t.added?"This chapter is added to your book":"Open and edit this chapter to add it to your book."}},[a("div",{staticClass:"title flex-grow-1"},[e._v(" "+e._s(t.title)+" ")]),a("div",{staticClass:"button"},[t.added?a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(a){return e.editChapter(t.id)}}},[e._v("Edit")]):a("button",{staticClass:"btn btn-sm btn-secondary",on:{click:function(a){return e.addChapter(t.id)}}},[e._v("Add")]),t.added?a("button",{staticClass:"btn btn-sm btn-danger",staticStyle:{"margin-left":"5px"},on:{click:function(a){return e.deleteChapter(t.id)}}},[e._v("Delete")]):e._e()])])})),0)])},v=[],b={name:"Chapters",methods:{setCurrentPage:function(e){this.$store.commit("setCurrentPage",{current_page:e})},addChapter:function(e){this.$emit("component_changed"),this.$store.commit("addChapter",{chapter_id:e})},editChapter:function(e){this.$emit("component_changed"),this.$store.commit("editChapter",{chapter_id:e})},deleteChapter:function(e){this.$store.commit("deleteChapter",{chapter_id:e})}}},m=b,g=(a("7d5b"),Object(o["a"])(m,f,v,!1,null,"8aa003c4",null)),C=g.exports,k={name:"Sidebar",components:{Chapters:C}},y=k,B=(a("b634"),Object(o["a"])(y,h,_,!1,null,"df7125ce",null)),x=B.exports,T=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blank_page"},[a("p",[e._v("Please select a chapter to add/edit.")])])}],j={name:"Blank"},O=j,w=(a("189a"),Object(o["a"])(O,T,$,!1,null,"490fe5fc",null)),E=w.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-title-container"},[a("div",{staticClass:"page-container overflow-y-scroll h-100vh"},[a("div",{ref:"page",staticClass:"page",on:{click:e.setCaret}},[a("h3",{staticClass:"chapter-title",attrs:{contenteditable:"true"},on:{blur:e.updateChapterTitle}},[e._v(e._s(e.selected_chapter_object.title))]),a("div",{ref:"page_body",staticClass:"page-body",attrs:{contenteditable:"true"},domProps:{innerHTML:e._s(e.selected_chapter_object.content)},on:{blur:e.updateChapterContent}})])])])},M=[],P=a("5530"),A=a("2f62"),I={computed:Object(P["a"])({},Object(A["b"])({back_cover_image:function(e){return e.data.back_cover_image},selected_chapter_id:function(e){return e.data.selected_chapter},selected_chapter_index:function(e,t){return t.selected_chapter_index},selected_chapter_object:function(e,t){return t.selected_chapter_object}})),methods:{updateBackCoverImage:function(e){this.$store.commit("updateBackCoverImage",{back_cover_image:void 0!==e.target.files?e.target.files:[]})},setCaret:function(e){e.target===this.$refs.page&&this.$setCaret(this.$refs.page_body,!1)},updateChapterTitle:function(e){this.$store.commit("updateChapterTitle",{title:e.target.innerText,selected_chapter_index:this.selected_chapter_index})},updateChapterContent:function(e){this.$store.commit("updateChapterContent",{content:e.target.innerHTML,selected_chapter_index:this.selected_chapter_index})}}},L=I,H=(a("d2be"),Object(o["a"])(L,S,M,!1,null,"2be54d38",null)),N=H.exports,R={name:"Home",data:function(){return{componentKey:0}},methods:{forceRerender:function(){this.componentKey+=1}},components:{Sidebar:x,Blank:E,BookTitle:function(){return a.e("BookTitle").then(a.bind(null,"5301"))},BookBackCover:function(){return a.e("BookBackCover").then(a.bind(null,"e067"))},EditChapter:N}},W=R,F=(a("d357"),Object(o["a"])(W,u,p,!1,null,"fb68971a",null)),U=F.exports;n["a"].use(l["a"]);var K=[{path:"/",name:"Home",component:U},{path:"/index.html",name:"Home",component:U}],D=new l["a"]({base:"",routes:K}),q=D;a("c740"),a("2b3d");n["a"].use(A["a"]);var J=new A["a"].Store({state:{data:{available_chapters:[{id:"1",title:"Our Thanksgiving Traditions",added:!0,content:""},{id:"2",title:"My Brothers And Sisters",added:!1,content:""},{id:"3",title:"My Earliest Memories",added:!1,content:""},{id:"4",title:"Husband and Wife How We Met",added:!1,content:""},{id:"5",title:"The Marriage Proposal",added:!1,content:""},{id:"6",title:"The Wedding",added:!1,content:""},{id:"7",title:"Our First House",added:!1,content:""},{id:"8",title:"Early Career Paths",added:!1,content:""},{id:"9",title:"Starting a Family",added:!1,content:""},{id:"10",title:"When _ Was Born",added:!1,content:""},{id:"11",title:"Children Stories",added:!1,content:""},{id:"12",title:"Children Accomplishments",added:!1,content:""},{id:"13",title:"Memorable Vacations",added:!1,content:""},{id:"14",title:"Where We Are Today",added:!1,content:""},{id:"15",title:"My Grandparents",added:!1,content:""},{id:"16",title:"My Mother",added:!1,content:""},{id:"17",title:"My Father",added:!1,content:""},{id:"18",title:"My Brothers and Sisters",added:!1,content:""},{id:"19",title:"My Aunts and Uncles",added:!1,content:""},{id:"20",title:"Early School Years",added:!1,content:""},{id:"21",title:"My First Best Friend",added:!1,content:""}],current_page:"blank",book_title:"Book Title",book_title_edited:!1,author_name:"Author Name",author_name_edited:!1,cover_image:null,back_cover_image:null,selected_chapter:null}},getters:{selected_chapter_index:function(e){return e.data.available_chapters.findIndex((function(t){return parseInt(t.id)===parseInt(e.data.selected_chapter)}))},selected_chapter_object:function(e,t){return e.data.available_chapters[t.selected_chapter_index]}},mutations:{setCurrentPage:function(e,t){n["a"].set(e.data,"current_page",t.current_page)},updateTitle:function(e,t){n["a"].set(e.data,"book_title",t.book_title),n["a"].set(e.data,"book_title_edited",!0)},updateAuthor:function(e,t){n["a"].set(e.data,"author_name",t.author_name),n["a"].set(e.data,"author_name_edited",!0)},updateCoverImage:function(e,t){var a=t.cover_image;if(a.length>0){var r=a[0],i=URL.createObjectURL(r);n["a"].set(e.data,"cover_image",i)}else n["a"].set(e.data,"cover_image",null)},updateBackCoverImage:function(e,t){var a=t.back_cover_image;if(a.length>0){var r=a[0],i=URL.createObjectURL(r);n["a"].set(e.data,"back_cover_image",i)}else n["a"].set(e.data,"back_cover_image",null)},editChapter:function(e,t){n["a"].set(e.data,"current_page","chapter"),n["a"].set(e.data,"selected_chapter",t.chapter_id)},deleteChapter:function(e,t){var a=e.data.available_chapters.findIndex((function(e){return parseInt(e.id)===parseInt(t.chapter_id)})),r=e.data.available_chapters[a];void 0!==r&&(n["a"].set(e.data.available_chapters[a],"added",!1),n["a"].set(e.data.available_chapters[a],"content",""))},addChapter:function(e,t){var a=e.data.available_chapters.findIndex((function(e){return parseInt(e.id)===parseInt(t.chapter_id)})),r=e.data.available_chapters[a];void 0!==r&&(n["a"].set(e.data.available_chapters[a],"added",!0),n["a"].set(e.data,"current_page","chapter"),n["a"].set(e.data,"selected_chapter",t.chapter_id))},updateChapterTitle:function(e,t){var a=e.data.available_chapters[t.selected_chapter_index];void 0!==a&&(n["a"].set(e.data.available_chapters[t.selected_chapter_index],"added",!0),n["a"].set(e.data.available_chapters[t.selected_chapter_index],"title",t.title))},updateChapterContent:function(e,t){var a=e.data.available_chapters[t.selected_chapter_index];void 0!==a&&(n["a"].set(e.data.available_chapters[t.selected_chapter_index],"added",!0),n["a"].set(e.data.available_chapters[t.selected_chapter_index],"content",t.content))}},actions:{},modules:{}});a("73ec");n["a"].config.productionTip=!1,n["a"].mixin({methods:{$setCaret:function(e,t){var a=document.createRange(),n=window.getSelection();if(t){var r=document.createTextNode("");e.appendChild(r),a.setStart(e.childNodes[0],0)}else a.selectNodeContents(e);a.collapse(t),n.removeAllRanges(),n.addRange(a),e.focus(),"function"===typeof e.select&&e.select()}}}),new n["a"]({router:q,store:J,render:function(e){return e(s)}}).$mount("#app")},5713:function(e,t,a){},"73ec":function(e,t,a){},"7d5b":function(e,t,a){"use strict";a("3773")},b634:function(e,t,a){"use strict";a("babb")},babb:function(e,t,a){},d2be:function(e,t,a){"use strict";a("26ed")},d357:function(e,t,a){"use strict";a("ee13")},ee13:function(e,t,a){}});
//# sourceMappingURL=app.8aa5ee2e.js.map